# Практическая работа 3. Управление потоком выполнения в .NET

## Тема: Управление потоком выполнения: условные операторы, циклы, обработка исключений.

### Цель: Сформировать практические навыки управления порядком выполнения кода в C# с использованием условных конструкций, циклов, операторов перехода и блоков обработки исключений.

Задачи:
*   Закрепить применение условных операторов `if-else`, `switch` для реализации разветвляющихся алгоритмов.
*   Научиться выбирать и применять подходящий цикл (`for`, `while`, `do-while`, `foreach`) в зависимости от решаемой задачи.
*   Освоить использование операторов перехода (`break`, `continue`, `return`) для гибкого управления циклами и методами.
*   Приобрести навыки структурированной обработки ошибок с помощью конструкций `try-catch-finally`.
*   Развить умение читать условие задачи, анализировать его и преобразовывать в логику программного кода.

---

### **Общие указания по выполнению работы**

1.  **Создание проекта:** Создайте новое консольное приложение .NET с именем `FlowControlPractice`.
2.  **Структура решения:** Каждый вариант должен быть реализован в виде отдельного метода в классе `Program`. В методе `Main` организуйте меню для выбора и запуска нужного варианта.
3.  **Интерфейс:** Программа должна быть интерактивной, запрашивать необходимые данные у пользователя и выводить понятные результаты.
4.  **Обработка ошибок:** Обязательно используйте блоки `try-catch` для обработки некорректного ввода (например, когда ожидается число, а вводится строка).
5.  **Комментарии:** Код должен быть хорошо прокомментирован.

**Структура репозитория:**
```
FlowControlPractice/
│
├── .gitignore
├── README.md
├── FlowControlPractice.csproj
├── Program.cs
└── images/ (папка для скриншотов выполнения программ)
```

**Содержание файлов:**

*   **`.gitignore`** (можно сгенерировать для .NET):
    ```
    [Bb]in/
    [Oo]bj/
    .vs/
    *.user
    ```
*   **`README.md`:** Опишите проект, перечислите варианты и приведите примеры запуска.
*   **`Program.cs`:** Основной файл с кодом.

---

### **15 Вариантов Практической Работы**

#### **Вариант 1: "Анализатор чисел"**
**Задание:** Напишите программу, которая:
1.  Запрашивает у пользователя целое число.
2.  Определяет и выводит, является ли число четным или нечетным, положительным или отрицательным (учтите ноль).
3.  Если число положительное и четное, выводит все четные числа от 0 до этого числа (включительно). Используйте цикл `for`.

#### **Вариант 2: "Калькулятор с обработкой ошибок"**
**Задание:** Напишите программу-калькулятор, которая:
1.  Запрашивает у пользователя два числа и операцию (+, -, *, /).
2.  Реализуйте логику с использованием `switch`.
3.  Обработайте возможные исключения: деление на ноль и ввод нечисловых значений. Используйте несколько блоков `catch`.
4.  После вычисления программа должна спросить, хочет ли пользователь продолжить (`while`).

#### **Вариант 3: "Поиск простых чисел"**
**Задание:** Напишите программу, которая:
1.  Запрашивает у пользователя целое число N.
2.  Используя вложенный цикл `for`, находит и выводит все простые числа в диапазоне от 2 до N.
3.  Используйте оператор `break` для оптимизации проверки на простоту (если делитель найден, число не простое).

#### **Вариант 4: "Угадай число"**
**Задание:** Напишите игру, в которой:
1.  Компьютер "загадывает" случайное число от 1 до 100 (используйте `Random`).
2.  Пользователь пытается угадать его. Программа дает подсказки "больше" или "меньше".
3.  Цикл `do-while` должен выполняться, пока число не будет угадано.
4.  По окончании выведите количество попыток.

#### **Вариант 5: "Работа с массивом"**
**Задание:** Напишите программу, которая:
1.  Создает массив из 10 случайных целых чисел (от -50 до 50).
2.  Выводит этот массив.
3.  Используя цикл `foreach`, находит и выводит сумму всех положительных элементов массива.
4.  *Дополнительно:* Выведите индексы всех нулевых элементов, используя цикл `for`.

#### **Вариант 6: "Вывод строки в обратном порядке"**
**Задание:** Напишите программу, которая:
1.  Запрашивает у пользователя строку.
2.  Используя цикл `for`, выводит эту строку посимвольно в обратном порядке.
3.  Реализуйте ту же задачу с помощью цикла `while`.

#### **Вариант 7: "Таблица умножения с пропусками"**
**Задание:** Напишите программу, которая выводит на экран таблицу умножения (от 1 до 10), но:
1.  Пропускает умножение на 5 (используйте `continue`).
2.  Прекращает вывод всей таблицы, если произведение двух чисел превышает 50 (используйте `break` во вложенном цикле).
3.  Выводите только те строки, которые не были пропущены.

#### **Вариант 8: "Пароль"**
**Задание:** Напишите программу, которая:
1.  Устанавливает жестко заданный пароль.
2.  Дает пользователю 3 попытки для его ввода. Используйте цикл `for` с счетчиком.
3.  Если пароль введен верно, выводит "Доступ разрешен".
4.  Если все 3 попытки исчерпаны, выводит "Доступ запрещен" и завершает работу.

#### **Вариант 9: "FizzBuzz"**
**Задание:** Напишите классическую программу FizzBuzz:
1.  Выведите числа от 1 до 100.
2.  Если число кратно 3, выведите `Fizz` вместо числа.
3.  Если число кратно 5, выведите `Buzz` вместо числа.
4.  Если число кратно и 3, и 5, выведите `FizzBuzz`.
5.  Используйте конструкцию `if-else if-else` внутри цикла.

#### **Вариант 10: "Конвертер валют"**
**Задание:** Напишите программу-конвертер, которая:
1.  Спрашивает у пользователя направление конвертации (например, 1 - USD в EUR, 2 - EUR в USD).
2.  Использует `switch` для выбора курса.
3.  Запрашивает сумму для конвертации.
4.  Обрабатывает исключения (ввод нечисловых значений, отрицательной суммы).
5.  Выводит результат и предлагает выполнить новую конвертацию или выйти.

#### **Вариант 11: "Статистика текста"**
**Задание:** Напишите программу, которая:
1.  Запрашивает у пользователя текст.
2.  Подсчитывает и выводит: количество символов, количество слов (разделенных пробелом), количество предложений (разделенных точками, '!' или '?').
3.  Используйте цикл `foreach` для перебора символов и `switch` для проверки знаков препинания.

#### **Вариант 12: "Рекурсивное меню"**
**Задание:** Напишите программу с меню:
1.  Меню предлагает 3 варианта: "1 - Приветствие", "2 - Рассказать анекдот", "0 - Выход".
2.  Используйте `switch` для обработки выбора.
3.  Реализуйте логику так, чтобы после выполнения выбранного действия (кроме выхода), меню появлялось снова. Используйте рекурсивный вызов метода `Main` или цикл `while(true)`.

#### **Вариант 13: "Поиск в строке"**
**Задание:** Напишите программу, которая:
1.  Запрашивает у пользователя строку и символ для поиска.
2.  Используя цикл `for`, находит первое вхождение этого символа в строку и выводит его индекс.
3.  Если символ не найден, выводит сообщение об этом.
4.  Используйте `break` для выхода из цикла после нахождения первого вхождения.

#### **Вариант 14: "Валидатор даты"**
**Задание:** Напишите программу, которая:
1.  Запрашивает у пользователя день, месяц и год (три целых числа).
2.  Проверяет, существует ли такая дата в григорианском календаре.
3.  Используйте вложенные конструкции `if-else` для проверки количества дней в месяце, учитывая високосный год.
4.  Выведите "Дата корректна" или "Дата некорректна".

#### **Вариант 15: "Генератор последовательностей"**
**Задание:** Напишите программу, которая:
1.  Предлагает пользователю выбрать тип последовательности: 1 - Арифметическая прогрессия, 2 - Геометрическая прогрессия.
2.  Запрашивает начальный элемент, шаг/знаменатель и количество элементов.
3.  Используя `switch` и цикл `for`, генерирует и выводит запрошенную последовательность.
4.  Обрабатывает исключения (например, деление на ноль в геометрической прогрессии).

---

### **Критерии оценки**

| Критерий | Макс. балл | Описание |
| :--- | :--- | :--- |
| **Корректность выполнения** | 4 | Программа компилируется без ошибок, логика соответствует условию варианта. |
| **Применение управляющих конструкций** | 3 | Грамотно и к месту использованы `if-else`, `switch`, циклы, `break/continue`. |
| **Обработка исключений** | 2 | Реализована обработка стандартных исключений (FormatException, DivideByZeroException и т.д.). |
| **Чистота и читаемость кода** | 2 | Логичная структура программы, понятные имена переменных, наличие комментариев. |
| **Интерфейс пользователя** | 2 | Программа интерактивна, выводит понятные запросы и результаты. |
| **Работа с Git** | 2 | Репозиторий корректно оформлен: есть `.gitignore`, `README.md`, коммиты логичны. |
| **Итого** | **15** | |

---

### **Контрольные вопросы**

1.  В чем основное различие между операторами `if-else` и `switch`? В каких случаях предпочтительнее использовать каждый из них?
2.  Объясните разницу между циклами `while`, `do-while` и `for`. Приведите примеры задач, где каждый из них наиболее уместен.
3.  Для чего используются операторы `break` и `continue`? Как они влияют на выполнение циклов и оператора `switch`?
4.  Что такое исключение (exception) в .NET? Опишите структуру блока `try-catch-finally` и назначение каждой его секции.
5.  Как можно прервать выполнение бесконечного цикла?
6.  Что такое вложенные циклы и вложенные условные операторы? Какие особенности их использования нужно учитывать?
7.  Почему важно проверять ввод пользователя? Какие типы исключений чаще всего возникают при работе с консольным вводом?