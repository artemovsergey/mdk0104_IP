# Практическая работа 11. Использование Task

## Цель работы

* Научиться создавать и запускать асинхронные задачи с использованием `Task`.
* Изучить методы управления задачами: `Wait()`, `Result`, `ContinueWith()`.
* Освоить параллельное выполнение операций и обработку результатов задач.

---

## Теоретическая часть

### 1. Задача (Task)

`Task` — это объект, представляющий асинхронную операцию, которая может выполняться параллельно с другими задачами.

### 2. Создание и запуск задач

```csharp
Task t = Task.Run(() => {
    Console.WriteLine("Выполнение задачи");
});
t.Wait(); // ожидание завершения
```

### 3. Получение результата задачи

```csharp
Task<int> task = Task.Run(() => 10 + 5);
int result = task.Result; // блокирует, пока задача не завершится
Console.WriteLine(result);
```

### 4. Продолжение задачи

```csharp
Task t1 = Task.Run(() => Console.WriteLine("Первая задача"));
t1.ContinueWith(t => Console.WriteLine("Вторая задача после первой"));
```

### 5. Параллельное выполнение задач

```csharp
Task t1 = Task.Run(() => DoWork(1));
Task t2 = Task.Run(() => DoWork(2));
Task.WaitAll(t1, t2); // ожидание завершения всех задач
```

---

## Практический пример

Программа, создающая три задачи, которые выполняют вычисления параллельно и выводят результат:

```csharp
using System;
using System.Threading.Tasks;

class Program
{
    static int ComputeSquare(int x)
    {
        Task.Delay(500).Wait(); // имитация работы
        return x * x;
    }

    static void Main()
    {
        Task<int> task1 = Task.Run(() => ComputeSquare(3));
        Task<int> task2 = Task.Run(() => ComputeSquare(4));
        Task<int> task3 = Task.Run(() => ComputeSquare(5));

        Task.WaitAll(task1, task2, task3);

        Console.WriteLine($"Квадрат 3 = {task1.Result}");
        Console.WriteLine($"Квадрат 4 = {task2.Result}");
        Console.WriteLine($"Квадрат 5 = {task3.Result}");
        Console.WriteLine("Все задачи завершены.");
    }
}
```

---

## Ход работы

1. Изучите примеры использования `Task`.
2. Создайте новый проект Console App (.NET).
3. Реализуйте один из 15 вариантов задания (по номеру в журнале).
4. Сделайте скриншоты работы программы и поместите их в папку `images`.
5. Создайте `readme.md` с номером работы, вариантом и текстом задания.

---

## Варианты заданий (15 вариантов)

1. Создать `Task`, который выводит числа от 1 до 10.
2. Создать две задачи, одна выводит чётные числа, другая — нечётные.
3. Создать `Task<int>`, который возвращает сумму чисел от 1 до 100.
4. Создать задачу, которая выводит таблицу умножения на 7.
5. Создать задачу, которая выводит 5 случайных чисел.
6. Создать несколько задач, каждая считает сумму массива чисел.
7. Создать `Task`, который выводит символы алфавита A–Z.
8. Создать `Task`, который выводит своё имя 10 раз.
9. Создать задачу, которая выводит текущее время каждые 1 секунду 5 раз.
10. Создать задачи для вычисления квадратов чисел от 1 до 5.
11. Создать задачу, которая считает факториал числа.
12. Создать задачу, которая выводит все простые числа до 50.
13. Создать задачу, которая считывает числа с клавиатуры и выводит их сумму.
14. Создать задачу, которая выводит числа Фибоначчи до 50.
15. Создать задачи для имитации прогресса загрузки от 0 до 100% с разной скоростью.

---

## Критерии оценки

| Оценка | Критерии                                                                                              |
| ------ | ----------------------------------------------------------------------------------------------------- |
| 2      | Программа не запускается или задачи реализованы неправильно.                                          |
| 3      | Программа запускается, частично реализует задачи, ошибки в оформлении.                                |
| 4      | Программа корректно выполняет задачи, есть скриншоты, readme оформлен.                                |
| 5      | Полная работа, корректное использование `Task`, структурированный код, подсветка в readme, скриншоты. |

---

## Контрольные вопросы

1. Что такое `Task` и для чего он нужен?
2. Как запустить задачу и дождаться её завершения?
3. Как получить результат выполнения задачи?
4. Как связать одну задачу с другой через `ContinueWith()`?
5. Чем отличается `Task` от `Thread`?

---

## Структура репозитория

```
Практическая_работа_11/
│
├─ Program.cs
├─ images/
│   └─ screenshot1.png
├─ readme.md
└─ Практическая_работа_11.csproj
```

### Пример readme.md

````markdown
# Практическая работа №11
**Тема:** Использование Task  
**Вариант:** 4

**Задание:** Создать `Task<int>`, который считает сумму чисел от 1 до 100 и выводит результат.

```csharp
using System;
using System.Threading.Tasks;

class Program
{
    static void Main()
    {
        Task<int> sumTask = Task.Run(() =>
        {
            int sum = 0;
            for (int i = 1; i <= 100; i++)
                sum += i;
            return sum;
        });

        Console.WriteLine("Сумма чисел от 1 до 100: " + sumTask.Result);
    }
}
````

```

