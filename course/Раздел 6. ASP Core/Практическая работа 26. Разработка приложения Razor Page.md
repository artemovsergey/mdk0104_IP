# Практическая работа 26. Разработка приложения Razor Page

Разработка приложения на Razor Pages в ASP.NET Core

---

## Цель работы

* Ознакомиться с архитектурой Razor Pages в ASP.NET Core.
* Научиться создавать веб-страницы с динамическим контентом.
* Освоить работу с формами, обработкой данных и маршрутизацией.
* Получить навыки публикации проекта и создания документации в репозитории.

---

## Теоретическая часть

### 1. Что такое Razor Pages

Razor Pages — это современный подход в ASP.NET Core для разработки веб-приложений. Он упрощает создание страниц, объединяя **UI, обработку запросов и логику страницы** в одной структуре.

**Особенности Razor Pages:**

* Каждая страница состоит из `.cshtml` и `.cshtml.cs` файлов.
* `.cshtml` — разметка HTML с поддержкой Razor-синтаксиса.
* `.cshtml.cs` — код страницы (PageModel) с методами обработки GET/POST запросов.
* Упрощенная маршрутизация: каждая страница автоматически доступна по пути `/Pages/ИмяСтраницы`.

### 2. Основные возможности

* Создание форм и работа с данными (`Model Binding`).
* Валидация данных на стороне сервера и клиента.
* Использование тег-хелперов (`Tag Helpers`) для генерации HTML.
* Обработка событий POST и GET через методы `OnGet` и `OnPost`.

---

## Ход работы

1. Создать новый проект ASP.NET Core с шаблоном **Razor Pages**.
2. Настроить структуру страниц: добавить главную страницу (`Index`), страницу с формой (`FormPage`).
3. Создать простую модель данных для работы с формой.
4. Реализовать обработку GET и POST запросов на странице.
5. Настроить вывод данных на странице после отправки формы.
6. Сделать скриншоты работы программы (отображение страницы, заполнение формы).
7. Создать репозиторий и загрузить проект:

   * Проект приложения
   * Папка `images` со скриншотами
   * `readme.md` с описанием задания и подсветкой кода

---

## Практический пример

**Модель данных: Product.cs**

```csharp
public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
}
```

**Страница Razor: FormPage.cshtml**

```html
@page
@model FormPageModel
<h2>Добавление продукта</h2>

<form method="post">
    <label>Название:</label>
    <input type="text" asp-for="Product.Name" />
    <label>Цена:</label>
    <input type="number" asp-for="Product.Price" />
    <button type="submit">Добавить</button>
</form>

@if (Model.Submitted)
{
    <p>Продукт добавлен: @Model.Product.Name, цена: @Model.Product.Price</p>
}
```

**PageModel: FormPage.cshtml.cs**

```csharp
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.RazorPages;

public class FormPageModel : PageModel
{
    [BindProperty]
    public Product Product { get; set; }

    public bool Submitted { get; set; } = false;

    public void OnGet()
    {
    }

    public void OnPost()
    {
        if (ModelState.IsValid)
        {
            Submitted = true;
        }
    }
}
```

---

## Варианты заданий (выбирается по номеру в журнале)

1. Создать страницу с формой для ввода имени пользователя и отображением приветствия.
2. Создать страницу с формой добавления нового продукта с выводом данных после отправки.
3. Реализовать страницу калькулятора, где пользователь вводит два числа и видит результат.
4. Создать страницу регистрации пользователя с валидацией email.
5. Реализовать страницу списка продуктов с возможностью добавления нового продукта через форму.
6. Создать страницу с формой обратной связи (имя, email, сообщение).
7. Сделать страницу конвертера валют.
8. Создать страницу для ввода даты и вывода дня недели.
9. Реализовать страницу для подсчета количества символов в строке.
10. Создать страницу формы с выпадающим списком (DropDown) и вывод выбранного значения.
11. Создать страницу добавления комментария с отображением всех комментариев.
12. Сделать страницу регистрации события (название, дата, описание).
13. Создать страницу для ввода температуры в Цельсиях и вывода в Фаренгейтах.
14. Реализовать страницу формы поиска по списку продуктов.
15. Создать страницу для ввода двух дат и вычисления количества дней между ними.

---

## Критерии оценки

| Балл | Критерий                                                                                                              |
| ---- | --------------------------------------------------------------------------------------------------------------------- |
| 2    | Проект создан, страница работает частично, форма не обрабатывает данные корректно                                     |
| 3    | Форма работает, данные выводятся после отправки, структура проекта верная                                             |
| 4    | Проект полностью работает, корректная обработка GET/POST, соблюдены Razor Pages стандарты                             |
| 5    | Проект полностью функционален, валидация данных, корректная структура страниц, README с подсветкой кода и скриншотами |

---

## Контрольные вопросы

1. Что такое Razor Pages и чем они отличаются от MVC?
2. Какие файлы создаются для каждой страницы Razor?
3. Какие методы используются для обработки GET и POST запросов?
4. Как привязать данные формы к модели (`Model Binding`)?
5. Что такое Tag Helpers и как они используются?
6. Как создать простую форму с выводом данных на странице?
7. Какие шаги нужно выполнить для публикации проекта в репозиторий с README и скриншотами?

---

## Структура репозитория

```
ПрактическаяРабота_№X/
 ├── MyRazorApp/               # проект приложения
 ├── images/                   # скриншоты работы программы
 │    ├── 1.png
 │    └── 2.png
 └── README.md
```

**Пример содержимого README.md:**

````markdown
# Практическая работа №X: Разработка приложения Razor Page

## Вариант Y

### Задание
Создать страницу с формой добавления нового продукта. После отправки формы вывести название и цену продукта.

### Пример кода

```csharp
// Модель
public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
}
````

```html
<!-- FormPage.cshtml -->
<form method="post">
    <label>Название:</label>
    <input type="text" asp-for="Product.Name" />
    <label>Цена:</label>
    <input type="number" asp-for="Product.Price" />
    <button type="submit">Добавить</button>
</form>
```

```csharp
// FormPage.cshtml.cs
public void OnPost()
{
    if (ModelState.IsValid)
    {
        Submitted = true;
    }
}
```

### Скриншоты

![Работа формы](images/1.png)

```