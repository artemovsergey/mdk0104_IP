# Практическая работа 27. Разработка приложения MVC

## Цель работы

* Освоить архитектуру MVC в ASP.NET Core.
* Научиться создавать контроллеры, модели и представления (Views).
* Реализовать взаимодействие пользователя с приложением через формы и маршруты.
* Получить навыки публикации проекта в репозитории с документацией и скриншотами работы.

---

## Теоретическая часть

### 1. MVC в ASP.NET Core

MVC (Model-View-Controller) — это архитектурный паттерн, разделяющий приложение на три слоя:

* **Model** — данные и бизнес-логика.
* **View** — представление, отображающее данные пользователю.
* **Controller** — обработка запросов, связывает модель и представление.

**Особенности ASP.NET Core MVC:**

* Контроллеры наследуют `Controller` или `ControllerBase`.
* Методы действий контроллера возвращают `View()`, `RedirectToAction()` или JSON.
* Представления создаются с использованием Razor.

### 2. Основные возможности MVC

* Четкое разделение ответственности компонентов.
* Поддержка маршрутизации и REST API.
* Валидация и привязка данных (`Model Binding`).
* Использование Tag Helpers для генерации HTML.

---

## Ход работы

1. Создать новый проект ASP.NET Core с шаблоном **MVC**.
2. Добавить модель данных (например, `Product`).
3. Создать контроллер `ProductsController` с действиями `Index`, `Create`, `Edit`, `Delete`.
4. Создать представления для отображения списка продуктов и формы добавления/редактирования.
5. Настроить маршрутизацию в `Program.cs` или `Startup.cs`.
6. Реализовать сохранение данных (можно использовать список в памяти).
7. Сделать скриншоты работы программы: отображение списка, добавление, редактирование и удаление.
8. Создать репозиторий и загрузить проект:

   * Проект приложения
   * Папка `images` с скриншотами
   * `README.md` с описанием задания, примером кода и подсветкой синтаксиса

---

## Практический пример

**Модель данных: Product.cs**

```csharp
public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
}
```

**Контроллер: ProductsController.cs**

```csharp
using Microsoft.AspNetCore.Mvc;

public class ProductsController : Controller
{
    private static List<Product> products = new List<Product>();

    public IActionResult Index()
    {
        return View(products);
    }

    public IActionResult Create()
    {
        return View();
    }

    [HttpPost]
    public IActionResult Create(Product product)
    {
        product.Id = products.Count + 1;
        products.Add(product);
        return RedirectToAction("Index");
    }

    public IActionResult Delete(int id)
    {
        var product = products.FirstOrDefault(p => p.Id == id);
        if (product != null)
        {
            products.Remove(product);
        }
        return RedirectToAction("Index");
    }
}
```

**Представление: Index.cshtml**

```html
@model List<Product>
<h2>Список продуктов</h2>
<table>
    <tr><th>Id</th><th>Название</th><th>Цена</th><th>Действия</th></tr>
    @foreach(var item in Model)
    {
        <tr>
            <td>@item.Id</td>
            <td>@item.Name</td>
            <td>@item.Price</td>
            <td>
                <a asp-action="Delete" asp-route-id="@item.Id">Удалить</a>
            </td>
        </tr>
    }
</table>
<a asp-action="Create">Добавить продукт</a>
```

**Представление: Create.cshtml**

```html
@model Product
<h2>Добавление продукта</h2>
<form asp-action="Create" method="post">
    <label>Название:</label>
    <input asp-for="Name" />
    <label>Цена:</label>
    <input asp-for="Price" />
    <button type="submit">Добавить</button>
</form>
```

---

## Варианты заданий (выбирается по номеру в журнале)

1. Создать приложение MVC для списка студентов с добавлением и удалением.
2. Реализовать приложение MVC для списка продуктов (пример выше).
3. Создать калькулятор с вводом двух чисел и выводом результата.
4. Создать приложение с формой регистрации пользователя с валидацией email.
5. Сделать список задач (ToDo) с возможностью добавления и удаления.
6. Реализовать страницу обратной связи (имя, email, сообщение).
7. Создать страницу конвертера валют с вводом суммы и выбором валюты.
8. Создать приложение для подсчета символов в строке.
9. Реализовать список книг с добавлением, редактированием и удалением.
10. Создать страницу формы для записи события (название, дата, описание).
11. Реализовать страницу для подсчета дней между датами.
12. Создать страницу формы с выпадающим списком и отображением выбранного значения.
13. Сделать страницу поиска по списку продуктов или студентов.
14. Реализовать страницу для ввода температуры в Цельсиях и конвертации в Фаренгейты.
15. Создать страницу отображения профиля пользователя с возможностью редактирования.

---

## Критерии оценки

| Балл | Критерий                                                                                        |
| ---- | ----------------------------------------------------------------------------------------------- |
| 2    | Приложение создано, но работает частично; нет полноценной работы контроллеров или представлений |
| 3    | Приложение работает с основными функциями, данные добавляются и выводятся                       |
| 4    | Полностью рабочее приложение с обработкой форм, корректная структура MVC, валидация данных      |
| 5    | Полностью функциональное приложение с CRUD, правильная структура, README с кодом и скриншотами  |

---

## Контрольные вопросы

1. Что такое MVC и из каких частей состоит архитектура?
2. Как контроллер взаимодействует с моделью и представлением?
3. Как реализуется маршрутизация в ASP.NET Core MVC?
4. Что такое Tag Helpers и для чего они нужны?
5. Как передавать данные из формы на контроллер?
6. Как реализовать добавление, редактирование и удаление данных?
7. Какие шаги нужно выполнить для публикации проекта в репозиторий?

---

## Структура репозитория

```
ПрактическаяРабота_27/
 ├── MyMvcApp/              # проект приложения MVC
 ├── images/                # скриншоты работы программы
 │    ├── 1.png
 │    └── 2.png
 └── README.md
```

**Пример содержимого README.md:**

````markdown
# Практическая работа №27: Разработка приложения MVC

## Вариант Y

### Задание
Создать приложение MVC для списка продуктов. Реализовать отображение списка, добавление нового продукта и удаление.

### Пример кода

```csharp
// Модель
public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
}
````

```csharp
// Контроллер
public IActionResult Create(Product product)
{
    product.Id = products.Count + 1;
    products.Add(product);
    return RedirectToAction("Index");
}
```

```html
<!-- View: Index.cshtml -->
<table>
    <tr><th>Id</th><th>Название</th><th>Цена</th><th>Действия</th></tr>
    @foreach(var item in Model)
    {
        <tr>
            <td>@item.Id</td>
            <td>@item.Name</td>
            <td>@item.Price</td>
            <td>
                <a asp-action="Delete" asp-route-id="@item.Id">Удалить</a>
            </td>
        </tr>
    }
</table>
```

### Скриншоты

![Список продуктов](images/1.png)

```